"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8170],{7330:(r,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"devops/iac","title":"iac","description":"---","source":"@site/docs/devops/iac.md","sourceDirName":"devops","slug":"/devops/iac","permalink":"/docs/devops/iac","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767895435000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"containers","permalink":"/docs/devops/containers"},"next":{"title":"Create a Document","permalink":"/docs/tutorial-basics/create-a-document"}}');var s=e(4848),t=e(8453);const i={},o=void 0,c={},l=[{value:"sidebar_position: 3",id:"sidebar_position-3",level:2},{value:"What is Infrastructure as Code?",id:"what-is-infrastructure-as-code",level:2},{value:"Benefits of IaC",id:"benefits-of-iac",level:3},{value:"IaC Tools Comparison",id:"iac-tools-comparison",level:2},{value:"Terraform",id:"terraform",level:2},{value:"Terraform Basics",id:"terraform-basics",level:3},{value:"Basic Terraform Configuration",id:"basic-terraform-configuration",level:3},{value:"Terraform Commands",id:"terraform-commands",level:3},{value:"Terraform Modules",id:"terraform-modules",level:3},{value:"AWS CloudFormation",id:"aws-cloudformation",level:2},{value:"CloudFormation Template Example",id:"cloudformation-template-example",level:3},{value:"CloudFormation Commands",id:"cloudformation-commands",level:3},{value:"Ansible",id:"ansible",level:2},{value:"Ansible Playbook Example",id:"ansible-playbook-example",level:3},{value:"Ansible Commands",id:"ansible-commands",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"General IaC Best Practices",id:"general-iac-best-practices",level:3},{value:"Security Best Practices",id:"security-best-practices",level:3},{value:"CI/CD for Infrastructure",id:"cicd-for-infrastructure",level:2},{value:"GitHub Actions for Terraform",id:"github-actions-for-terraform",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Resources",id:"resources",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(r){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...r.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"sidebar_position-3",children:"sidebar_position: 3"}),"\n",(0,s.jsx)(n.h1,{id:"infrastructure-as-code-iac-documentation",children:"Infrastructure as Code (IaC) Documentation"}),"\n",(0,s.jsx)(n.p,{children:"Complete guide to managing and provisioning infrastructure through code using tools like Terraform, AWS CloudFormation, and Ansible."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-infrastructure-as-code",children:"What is Infrastructure as Code?"}),"\n",(0,s.jsx)(n.p,{children:"Infrastructure as Code (IaC) is the practice of managing and provisioning computing infrastructure through machine-readable definition files, rather than physical hardware configuration or interactive configuration tools."}),"\n",(0,s.jsx)(n.h3,{id:"benefits-of-iac",children:"Benefits of IaC"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version Control:"})," Track infrastructure changes in Git"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consistency:"})," Identical environments every time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automation:"})," Eliminate manual configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reusability:"})," Share and reuse infrastructure templates"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Documentation:"})," Code serves as documentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cost Reduction:"})," Optimize resource usage"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"iac-tools-comparison",children:"IaC Tools Comparison"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Tool"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Best For"}),(0,s.jsx)(n.th,{children:"Language"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Terraform"}),(0,s.jsx)(n.td,{children:"Declarative"}),(0,s.jsx)(n.td,{children:"Multi-cloud"}),(0,s.jsx)(n.td,{children:"HCL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AWS CloudFormation"}),(0,s.jsx)(n.td,{children:"Declarative"}),(0,s.jsx)(n.td,{children:"AWS-specific"}),(0,s.jsx)(n.td,{children:"JSON/YAML"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ansible"}),(0,s.jsx)(n.td,{children:"Procedural"}),(0,s.jsx)(n.td,{children:"Configuration Management"}),(0,s.jsx)(n.td,{children:"YAML"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pulumi"}),(0,s.jsx)(n.td,{children:"Declarative"}),(0,s.jsx)(n.td,{children:"Modern programming"}),(0,s.jsx)(n.td,{children:"Python, TypeScript, Go"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Chef"}),(0,s.jsx)(n.td,{children:"Procedural"}),(0,s.jsx)(n.td,{children:"Configuration Management"}),(0,s.jsx)(n.td,{children:"Ruby DSL"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"terraform",children:"Terraform"}),"\n",(0,s.jsx)(n.p,{children:"Terraform is an open-source IaC tool that allows you to build, change, and version infrastructure safely and efficiently."}),"\n",(0,s.jsx)(n.h3,{id:"terraform-basics",children:"Terraform Basics"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Directory Structure:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"terraform-project/\r\n\u251c\u2500\u2500 main.tf           # Main configuration\r\n\u251c\u2500\u2500 variables.tf      # Input variables\r\n\u251c\u2500\u2500 outputs.tf        # Output values\r\n\u251c\u2500\u2500 terraform.tfvars  # Variable values\r\n\u2514\u2500\u2500 modules/          # Reusable modules\r\n    \u2514\u2500\u2500 vpc/\r\n        \u251c\u2500\u2500 main.tf\r\n        \u251c\u2500\u2500 variables.tf\r\n        \u2514\u2500\u2500 outputs.tf\n"})}),"\n",(0,s.jsx)(n.h3,{id:"basic-terraform-configuration",children:"Basic Terraform Configuration"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"main.tf:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'# Configure the AWS Provider\r\nterraform {\r\n  required_version = ">= 1.0"\r\n  required_providers {\r\n    aws = {\r\n      source  = "hashicorp/aws"\r\n      version = "~> 5.0"\r\n    }\r\n  }\r\n  backend "s3" {\r\n    bucket = "my-terraform-state"\r\n    key    = "prod/terraform.tfstate"\r\n    region = "us-east-1"\r\n  }\r\n}\r\n\r\nprovider "aws" {\r\n  region = var.aws_region\r\n}\r\n\r\n# Create VPC\r\nresource "aws_vpc" "main" {\r\n  cidr_block           = var.vpc_cidr\r\n  enable_dns_hostnames = true\r\n  enable_dns_support   = true\r\n\r\n  tags = {\r\n    Name        = "${var.project_name}-vpc"\r\n    Environment = var.environment\r\n    ManagedBy   = "Terraform"\r\n  }\r\n}\r\n\r\n# Create Subnet\r\nresource "aws_subnet" "public" {\r\n  count             = length(var.availability_zones)\r\n  vpc_id            = aws_vpc.main.id\r\n  cidr_block        = cidrsubnet(var.vpc_cidr, 8, count.index)\r\n  availability_zone = var.availability_zones[count.index]\r\n\r\n  map_public_ip_on_launch = true\r\n\r\n  tags = {\r\n    Name = "${var.project_name}-public-${count.index + 1}"\r\n  }\r\n}\r\n\r\n# Create Internet Gateway\r\nresource "aws_internet_gateway" "main" {\r\n  vpc_id = aws_vpc.main.id\r\n\r\n  tags = {\r\n    Name = "${var.project_name}-igw"\r\n  }\r\n}\r\n\r\n# Create Security Group\r\nresource "aws_security_group" "web" {\r\n  name        = "${var.project_name}-web-sg"\r\n  description = "Security group for web servers"\r\n  vpc_id      = aws_vpc.main.id\r\n\r\n  ingress {\r\n    description = "HTTP"\r\n    from_port   = 80\r\n    to_port     = 80\r\n    protocol    = "tcp"\r\n    cidr_blocks = ["0.0.0.0/0"]\r\n  }\r\n\r\n  ingress {\r\n    description = "HTTPS"\r\n    from_port   = 443\r\n    to_port     = 443\r\n    protocol    = "tcp"\r\n    cidr_blocks = ["0.0.0.0/0"]\r\n  }\r\n\r\n  egress {\r\n    from_port   = 0\r\n    to_port     = 0\r\n    protocol    = "-1"\r\n    cidr_blocks = ["0.0.0.0/0"]\r\n  }\r\n\r\n  tags = {\r\n    Name = "${var.project_name}-web-sg"\r\n  }\r\n}\r\n\r\n# Launch EC2 Instance\r\nresource "aws_instance" "web" {\r\n  count         = var.instance_count\r\n  ami           = data.aws_ami.amazon_linux.id\r\n  instance_type = var.instance_type\r\n  subnet_id     = aws_subnet.public[0].id\r\n\r\n  vpc_security_group_ids = [aws_security_group.web.id]\r\n\r\n  user_data = file("${path.module}/scripts/user_data.sh")\r\n\r\n  tags = {\r\n    Name = "${var.project_name}-web-${count.index + 1}"\r\n  }\r\n}\r\n\r\n# Data source for latest Amazon Linux AMI\r\ndata "aws_ami" "amazon_linux" {\r\n  most_recent = true\r\n  owners      = ["amazon"]\r\n\r\n  filter {\r\n    name   = "name"\r\n    values = ["amzn2-ami-hvm-*-x86_64-gp2"]\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"variables.tf:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'variable "aws_region" {\r\n  description = "AWS region for resources"\r\n  type        = string\r\n  default     = "us-east-1"\r\n}\r\n\r\nvariable "project_name" {\r\n  description = "Project name for resource tagging"\r\n  type        = string\r\n}\r\n\r\nvariable "environment" {\r\n  description = "Environment name"\r\n  type        = string\r\n  validation {\r\n    condition     = contains(["dev", "staging", "prod"], var.environment)\r\n    error_message = "Environment must be dev, staging, or prod."\r\n  }\r\n}\r\n\r\nvariable "vpc_cidr" {\r\n  description = "CIDR block for VPC"\r\n  type        = string\r\n  default     = "10.0.0.0/16"\r\n}\r\n\r\nvariable "availability_zones" {\r\n  description = "List of availability zones"\r\n  type        = list(string)\r\n  default     = ["us-east-1a", "us-east-1b"]\r\n}\r\n\r\nvariable "instance_type" {\r\n  description = "EC2 instance type"\r\n  type        = string\r\n  default     = "t3.micro"\r\n}\r\n\r\nvariable "instance_count" {\r\n  description = "Number of instances to launch"\r\n  type        = number\r\n  default     = 2\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"outputs.tf:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'output "vpc_id" {\r\n  description = "ID of the VPC"\r\n  value       = aws_vpc.main.id\r\n}\r\n\r\noutput "public_subnet_ids" {\r\n  description = "IDs of public subnets"\r\n  value       = aws_subnet.public[*].id\r\n}\r\n\r\noutput "web_instance_ids" {\r\n  description = "IDs of web instances"\r\n  value       = aws_instance.web[*].id\r\n}\r\n\r\noutput "web_instance_public_ips" {\r\n  description = "Public IPs of web instances"\r\n  value       = aws_instance.web[*].public_ip\r\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"terraform-commands",children:"Terraform Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Initialize Terraform\r\nterraform init\r\n\r\n# Format configuration files\r\nterraform fmt\r\n\r\n# Validate configuration\r\nterraform validate\r\n\r\n# Plan changes\r\nterraform plan\r\n\r\n# Apply changes\r\nterraform apply\r\n\r\n# Apply with auto-approve\r\nterraform apply -auto-approve\r\n\r\n# Destroy infrastructure\r\nterraform destroy\r\n\r\n# Show current state\r\nterraform show\r\n\r\n# List resources in state\r\nterraform state list\r\n\r\n# Import existing resource\r\nterraform import aws_instance.example i-1234567890abcdef0\r\n\r\n# Refresh state\r\nterraform refresh\r\n\r\n# Output specific value\r\nterraform output vpc_id\n"})}),"\n",(0,s.jsx)(n.h3,{id:"terraform-modules",children:"Terraform Modules"}),"\n",(0,s.jsx)(n.p,{children:"Create reusable modules for common patterns:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"modules/web-app/main.tf:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'variable "app_name" { type = string }\r\nvariable "vpc_id" { type = string }\r\nvariable "subnet_ids" { type = list(string) }\r\n\r\nresource "aws_lb" "main" {\r\n  name               = "${var.app_name}-alb"\r\n  internal           = false\r\n  load_balancer_type = "application"\r\n  subnets            = var.subnet_ids\r\n\r\n  tags = {\r\n    Name = "${var.app_name}-alb"\r\n  }\r\n}\r\n\r\noutput "lb_dns_name" {\r\n  value = aws_lb.main.dns_name\r\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using the module:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'module "web_app" {\r\n  source     = "./modules/web-app"\r\n  app_name   = "myapp"\r\n  vpc_id     = aws_vpc.main.id\r\n  subnet_ids = aws_subnet.public[*].id\r\n}\r\n\r\noutput "app_url" {\r\n  value = module.web_app.lb_dns_name\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"aws-cloudformation",children:"AWS CloudFormation"}),"\n",(0,s.jsx)(n.p,{children:"AWS CloudFormation provides IaC for AWS resources using JSON or YAML templates."}),"\n",(0,s.jsx)(n.h3,{id:"cloudformation-template-example",children:"CloudFormation Template Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"AWSTemplateFormatVersion: '2010-09-09'\r\nDescription: 'Web application infrastructure'\r\n\r\nParameters:\r\n  Environment:\r\n    Type: String\r\n    Default: dev\r\n    AllowedValues: [dev, staging, prod]\r\n    Description: Environment name\r\n\r\n  InstanceType:\r\n    Type: String\r\n    Default: t3.micro\r\n    AllowedValues: [t3.micro, t3.small, t3.medium]\r\n    Description: EC2 instance type\r\n\r\nMappings:\r\n  RegionAMI:\r\n    us-east-1:\r\n      AMI: ami-0c55b159cbfafe1f0\r\n    us-west-2:\r\n      AMI: ami-0d1cd67c26f5fca19\r\n\r\nResources:\r\n  VPC:\r\n    Type: AWS::EC2::VPC\r\n    Properties:\r\n      CidrBlock: 10.0.0.0/16\r\n      EnableDnsHostnames: true\r\n      EnableDnsSupport: true\r\n      Tags:\r\n        - Key: Name\r\n          Value: !Sub ${Environment}-vpc\r\n\r\n  PublicSubnet:\r\n    Type: AWS::EC2::Subnet\r\n    Properties:\r\n      VpcId: !Ref VPC\r\n      CidrBlock: 10.0.1.0/24\r\n      AvailabilityZone: !Select [0, !GetAZs '']\r\n      MapPublicIpOnLaunch: true\r\n      Tags:\r\n        - Key: Name\r\n          Value: !Sub ${Environment}-public-subnet\r\n\r\n  InternetGateway:\r\n    Type: AWS::EC2::InternetGateway\r\n    Properties:\r\n      Tags:\r\n        - Key: Name\r\n          Value: !Sub ${Environment}-igw\r\n\r\n  AttachGateway:\r\n    Type: AWS::EC2::VPCGatewayAttachment\r\n    Properties:\r\n      VpcId: !Ref VPC\r\n      InternetGatewayId: !Ref InternetGateway\r\n\r\n  SecurityGroup:\r\n    Type: AWS::EC2::SecurityGroup\r\n    Properties:\r\n      GroupDescription: Web server security group\r\n      VpcId: !Ref VPC\r\n      SecurityGroupIngress:\r\n        - IpProtocol: tcp\r\n          FromPort: 80\r\n          ToPort: 80\r\n          CidrIp: 0.0.0.0/0\r\n        - IpProtocol: tcp\r\n          FromPort: 443\r\n          ToPort: 443\r\n          CidrIp: 0.0.0.0/0\r\n      Tags:\r\n        - Key: Name\r\n          Value: !Sub ${Environment}-web-sg\r\n\r\n  WebServer:\r\n    Type: AWS::EC2::Instance\r\n    Properties:\r\n      ImageId: !FindInMap [RegionAMI, !Ref 'AWS::Region', AMI]\r\n      InstanceType: !Ref InstanceType\r\n      SubnetId: !Ref PublicSubnet\r\n      SecurityGroupIds:\r\n        - !Ref SecurityGroup\r\n      Tags:\r\n        - Key: Name\r\n          Value: !Sub ${Environment}-web-server\r\n\r\nOutputs:\r\n  VPCId:\r\n    Description: VPC ID\r\n    Value: !Ref VPC\r\n    Export:\r\n      Name: !Sub ${Environment}-VPC\r\n\r\n  WebServerPublicIP:\r\n    Description: Public IP of web server\r\n    Value: !GetAtt WebServer.PublicIp\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cloudformation-commands",children:"CloudFormation Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create stack\r\naws cloudformation create-stack \\\r\n  --stack-name my-stack \\\r\n  --template-body file://template.yaml \\\r\n  --parameters ParameterKey=Environment,ParameterValue=prod\r\n\r\n# Update stack\r\naws cloudformation update-stack \\\r\n  --stack-name my-stack \\\r\n  --template-body file://template.yaml\r\n\r\n# Delete stack\r\naws cloudformation delete-stack --stack-name my-stack\r\n\r\n# Describe stack\r\naws cloudformation describe-stacks --stack-name my-stack\r\n\r\n# List stacks\r\naws cloudformation list-stacks\r\n\r\n# Validate template\r\naws cloudformation validate-template \\\r\n  --template-body file://template.yaml\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ansible",children:"Ansible"}),"\n",(0,s.jsx)(n.p,{children:"Ansible is an agentless automation tool for configuration management, application deployment, and task automation."}),"\n",(0,s.jsx)(n.h3,{id:"ansible-playbook-example",children:"Ansible Playbook Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'---\r\n- name: Configure web servers\r\n  hosts: webservers\r\n  become: yes\r\n  vars:\r\n    app_name: myapp\r\n    app_port: 3000\r\n\r\n  tasks:\r\n    - name: Update apt cache\r\n      apt:\r\n        update_cache: yes\r\n        cache_valid_time: 3600\r\n\r\n    - name: Install required packages\r\n      apt:\r\n        name:\r\n          - nginx\r\n          - nodejs\r\n          - npm\r\n        state: present\r\n\r\n    - name: Create app directory\r\n      file:\r\n        path: "/opt/{{ app_name }}"\r\n        state: directory\r\n        mode: \'0755\'\r\n\r\n    - name: Copy application files\r\n      copy:\r\n        src: "{{ playbook_dir }}/app/"\r\n        dest: "/opt/{{ app_name }}/"\r\n        mode: \'0644\'\r\n\r\n    - name: Install npm dependencies\r\n      npm:\r\n        path: "/opt/{{ app_name }}"\r\n        state: present\r\n\r\n    - name: Configure Nginx\r\n      template:\r\n        src: nginx.conf.j2\r\n        dest: /etc/nginx/sites-available/{{ app_name }}\r\n      notify: restart nginx\r\n\r\n    - name: Enable Nginx site\r\n      file:\r\n        src: /etc/nginx/sites-available/{{ app_name }}\r\n        dest: /etc/nginx/sites-enabled/{{ app_name }}\r\n        state: link\r\n      notify: restart nginx\r\n\r\n    - name: Start application\r\n      systemd:\r\n        name: "{{ app_name }}"\r\n        state: started\r\n        enabled: yes\r\n\r\n  handlers:\r\n    - name: restart nginx\r\n      service:\r\n        name: nginx\r\n        state: restarted\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Nginx template (nginx.conf.j2):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-nginx",children:"server {\r\n    listen 80;\r\n    server_name {{ ansible_hostname }};\r\n\r\n    location / {\r\n        proxy_pass http://localhost:{{ app_port }};\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ansible-commands",children:"Ansible Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Run playbook\r\nansible-playbook -i inventory playbook.yml\r\n\r\n# Check syntax\r\nansible-playbook playbook.yml --syntax-check\r\n\r\n# Dry run (check mode)\r\nansible-playbook playbook.yml --check\r\n\r\n# Run specific tags\r\nansible-playbook playbook.yml --tags "configuration"\r\n\r\n# Run ad-hoc command\r\nansible webservers -i inventory -m ping\r\n\r\n# Gather facts\r\nansible webservers -i inventory -m setup\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"general-iac-best-practices",children:"General IaC Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Version Control Everything"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# .gitignore for Terraform\r\n.terraform/\r\n*.tfstate\r\n*.tfstate.backup\r\n*.tfvars\r\n.terraform.lock.hcl\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Use Modules for Reusability"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Implement State Management"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Use Variables and Secrets Management"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Document Your Infrastructure"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Test Before Applying"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Implement CI/CD for Infrastructure"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'# Use AWS Secrets Manager\r\ndata "aws_secretsmanager_secret_version" "db_password" {\r\n  secret_id = "prod/db/password"\r\n}\r\n\r\nresource "aws_db_instance" "main" {\r\n  password = data.aws_secretsmanager_secret_version.db_password.secret_string\r\n}\r\n\r\n# Encrypt sensitive outputs\r\noutput "db_password" {\r\n  value     = aws_db_instance.main.password\r\n  sensitive = true\r\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"cicd-for-infrastructure",children:"CI/CD for Infrastructure"}),"\n",(0,s.jsx)(n.h3,{id:"github-actions-for-terraform",children:"GitHub Actions for Terraform"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"name: Terraform CI/CD\r\n\r\non:\r\n  push:\r\n    branches: [main]\r\n  pull_request:\r\n    branches: [main]\r\n\r\njobs:\r\n  terraform:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n\r\n      - name: Setup Terraform\r\n        uses: hashicorp/setup-terraform@v2\r\n        with:\r\n          terraform_version: 1.5.0\r\n\r\n      - name: Terraform Init\r\n        run: terraform init\r\n\r\n      - name: Terraform Format\r\n        run: terraform fmt -check\r\n\r\n      - name: Terraform Validate\r\n        run: terraform validate\r\n\r\n      - name: Terraform Plan\r\n        run: terraform plan\r\n        env:\r\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\r\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\r\n\r\n      - name: Terraform Apply\r\n        if: github.ref == 'refs/heads/main'\r\n        run: terraform apply -auto-approve\r\n        env:\r\n          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}\r\n          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Terraform state locked:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Force unlock (use carefully)\r\nterraform force-unlock LOCK_ID\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"CloudFormation stack stuck:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Cancel update\r\naws cloudformation cancel-update-stack --stack-name my-stack\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ansible connection issues:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Test connection\r\nansible all -i inventory -m ping -vvv\n"})}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Terraform:"})," ",(0,s.jsx)(n.a,{href:"https://www.terraform.io/docs",children:"terraform.io/docs"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AWS CloudFormation:"})," ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/cloudformation",children:"docs.aws.amazon.com/cloudformation"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ansible:"})," ",(0,s.jsx)(n.a,{href:"https://docs.ansible.com",children:"docs.ansible.com"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pulumi:"})," ",(0,s.jsx)(n.a,{href:"https://www.pulumi.com/docs",children:"pulumi.com/docs"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Explore ",(0,s.jsx)(n.a,{href:"/docs/devops/cicd",children:"CI/CD Pipelines"})," for automated infrastructure deployment"]}),"\n",(0,s.jsxs)(n.li,{children:["Learn ",(0,s.jsx)(n.a,{href:"/docs/devops/containers",children:"Docker & Kubernetes"})," for containerized infrastructure"]}),"\n",(0,s.jsxs)(n.li,{children:["Review ",(0,s.jsx)(n.a,{href:"/docs/cloud-devops/aws",children:"Cloud Services"})," for managed infrastructure"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Need IaC implementation help?"})," Contact us at ",(0,s.jsx)(n.a,{href:"mailto:contact@techdocs.co.in",children:"contact@techdocs.co.in"})]})]})}function u(r={}){const{wrapper:n}={...(0,t.R)(),...r.components};return n?(0,s.jsx)(n,{...r,children:(0,s.jsx)(d,{...r})}):d(r)}},8453:(r,n,e)=>{e.d(n,{R:()=>i,x:()=>o});var a=e(6540);const s={},t=a.createContext(s);function i(r){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof r?r(n):{...n,...r}},[n,r])}function o(r){let n;return n=r.disableParentContext?"function"==typeof r.components?r.components(s):r.components||s:i(r.components),a.createElement(t.Provider,{value:n},r.children)}}}]);