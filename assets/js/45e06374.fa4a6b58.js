"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[2049],{2305:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"devops/containers","title":"containers","description":"---","source":"@site/docs/devops/containers.md","sourceDirName":"devops","slug":"/devops/containers","permalink":"/docs/devops/containers","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767895435000,"frontMatter":{}}');var o=r(4848),i=r(8453);const a={},c=void 0,t={},l=[{value:"sidebar_position: 2",id:"sidebar_position-2",level:2},{value:"Docker Overview",id:"docker-overview",level:2},{value:"Why Docker?",id:"why-docker",level:3},{value:"Docker Fundamentals",id:"docker-fundamentals",level:2},{value:"Docker Architecture",id:"docker-architecture",level:3},{value:"Dockerfile Example",id:"dockerfile-example",level:3},{value:"Common Docker Commands",id:"common-docker-commands",level:3},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Kubernetes Overview",id:"kubernetes-overview",level:2},{value:"Why Kubernetes?",id:"why-kubernetes",level:3},{value:"Kubernetes Architecture",id:"kubernetes-architecture",level:3},{value:"Kubernetes Resources",id:"kubernetes-resources",level:2},{value:"Deployment",id:"deployment",level:3},{value:"Service",id:"service",level:3},{value:"ConfigMap",id:"configmap",level:3},{value:"Secret",id:"secret",level:3},{value:"Ingress",id:"ingress",level:3},{value:"Common Kubernetes Commands",id:"common-kubernetes-commands",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Docker Best Practices",id:"docker-best-practices",level:3},{value:"Kubernetes Best Practices",id:"kubernetes-best-practices",level:3},{value:"Monitoring and Logging",id:"monitoring-and-logging",level:2},{value:"Docker Logging",id:"docker-logging",level:3},{value:"Kubernetes Monitoring with Prometheus",id:"kubernetes-monitoring-with-prometheus",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Docker Issues",id:"docker-issues",level:3},{value:"Kubernetes Issues",id:"kubernetes-issues",level:3},{value:"Resources",id:"resources",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"sidebar_position-2",children:"sidebar_position: 2"}),"\n",(0,o.jsx)(n.h1,{id:"docker--kubernetes-documentation",children:"Docker & Kubernetes Documentation"}),"\n",(0,o.jsx)(n.p,{children:"Complete guide to containerization with Docker and orchestration with Kubernetes for modern application deployment."}),"\n",(0,o.jsx)(n.h2,{id:"docker-overview",children:"Docker Overview"}),"\n",(0,o.jsx)(n.p,{children:"Docker is a platform for developing, shipping, and running applications in containers. Containers package software with everything needed to run it, ensuring consistency across environments."}),"\n",(0,o.jsx)(n.h3,{id:"why-docker",children:"Why Docker?"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Consistency:"})," Same environment from development to production"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Isolation:"})," Applications run independently"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Portability:"})," Run anywhere Docker is supported"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Efficiency:"})," Lightweight compared to virtual machines"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"docker-fundamentals",children:"Docker Fundamentals"}),"\n",(0,o.jsx)(n.h3,{id:"docker-architecture",children:"Docker Architecture"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502         Docker Client               \u2502\r\n\u2502  (docker build, run, push)          \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n               \u2502\r\n               \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502         Docker Daemon               \u2502\r\n\u2502  (dockerd - manages containers)     \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n               \u2502\r\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n    \u25bc                     \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Images  \u2502         \u2502Containers\u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsx)(n.h3,{id:"dockerfile-example",children:"Dockerfile Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",children:'# Use official Node.js image\r\nFROM node:18-alpine\r\n\r\n# Set working directory\r\nWORKDIR /app\r\n\r\n# Copy package files\r\nCOPY package*.json ./\r\n\r\n# Install dependencies\r\nRUN npm ci --only=production\r\n\r\n# Copy application code\r\nCOPY . .\r\n\r\n# Build the application\r\nRUN npm run build\r\n\r\n# Expose port\r\nEXPOSE 3000\r\n\r\n# Set environment to production\r\nENV NODE_ENV=production\r\n\r\n# Start the application\r\nCMD ["node", "dist/index.js"]\n'})}),"\n",(0,o.jsx)(n.h3,{id:"common-docker-commands",children:"Common Docker Commands"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Build an image\r\ndocker build -t myapp:1.0 .\r\n\r\n# Run a container\r\ndocker run -d -p 3000:3000 --name myapp-container myapp:1.0\r\n\r\n# List running containers\r\ndocker ps\r\n\r\n# View container logs\r\ndocker logs myapp-container\r\n\r\n# Stop a container\r\ndocker stop myapp-container\r\n\r\n# Remove a container\r\ndocker rm myapp-container\r\n\r\n# List images\r\ndocker images\r\n\r\n# Remove an image\r\ndocker rmi myapp:1.0\r\n\r\n# Execute command in running container\r\ndocker exec -it myapp-container sh\n"})}),"\n",(0,o.jsx)(n.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,o.jsx)(n.p,{children:"Docker Compose manages multi-container applications with a single configuration file."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\r\n\r\nservices:\r\n  web:\r\n    build: .\r\n    ports:\r\n      - "3000:3000"\r\n    environment:\r\n      - NODE_ENV=production\r\n      - DATABASE_URL=postgresql://db:5432/myapp\r\n    depends_on:\r\n      - db\r\n    volumes:\r\n      - ./logs:/app/logs\r\n\r\n  db:\r\n    image: postgres:15-alpine\r\n    environment:\r\n      - POSTGRES_DB=myapp\r\n      - POSTGRES_USER=admin\r\n      - POSTGRES_PASSWORD=${DB_PASSWORD}\r\n    volumes:\r\n      - postgres_data:/var/lib/postgresql/data\r\n    ports:\r\n      - "5432:5432"\r\n\r\n  redis:\r\n    image: redis:7-alpine\r\n    ports:\r\n      - "6379:6379"\r\n\r\nvolumes:\r\n  postgres_data:\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Start all services\r\ndocker-compose up -d\r\n\r\n# View logs\r\ndocker-compose logs -f\r\n\r\n# Stop all services\r\ndocker-compose down\r\n\r\n# Rebuild and restart\r\ndocker-compose up -d --build\n"})}),"\n",(0,o.jsx)(n.h2,{id:"kubernetes-overview",children:"Kubernetes Overview"}),"\n",(0,o.jsx)(n.p,{children:"Kubernetes (K8s) is an open-source container orchestration platform that automates deployment, scaling, and management of containerized applications."}),"\n",(0,o.jsx)(n.h3,{id:"why-kubernetes",children:"Why Kubernetes?"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Self-healing:"})," Automatically restarts failed containers"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Auto-scaling:"})," Scales based on demand"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Load balancing:"})," Distributes network traffic"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rolling updates:"})," Zero-downtime deployments"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Secret management:"})," Securely stores sensitive data"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"kubernetes-architecture",children:"Kubernetes Architecture"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502            Control Plane                   \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\r\n\u2502  \u2502 API Server   \u2502  \u2502  Scheduler   \u2502       \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\r\n\u2502  \u2502 Controller   \u2502  \u2502     etcd     \u2502       \u2502\r\n\u2502  \u2502  Manager     \u2502  \u2502  (data store)\u2502       \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                  \u2502\r\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n        \u25bc                   \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   Worker Node \u2502   \u2502  Worker Node  \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\r\n\u2502  \u2502  Pod 1  \u2502  \u2502   \u2502  \u2502  Pod 3  \u2502  \u2502\r\n\u2502  \u2502  Pod 2  \u2502  \u2502   \u2502  \u2502  Pod 4  \u2502  \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsx)(n.h2,{id:"kubernetes-resources",children:"Kubernetes Resources"}),"\n",(0,o.jsx)(n.h3,{id:"deployment",children:"Deployment"}),"\n",(0,o.jsx)(n.p,{children:"Manages replicated applications and rolling updates."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: myapp-deployment\r\n  labels:\r\n    app: myapp\r\nspec:\r\n  replicas: 3\r\n  selector:\r\n    matchLabels:\r\n      app: myapp\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: myapp\r\n    spec:\r\n      containers:\r\n      - name: myapp\r\n        image: myapp:1.0\r\n        ports:\r\n        - containerPort: 3000\r\n        env:\r\n        - name: NODE_ENV\r\n          value: "production"\r\n        - name: DATABASE_URL\r\n          valueFrom:\r\n            secretKeyRef:\r\n              name: db-secret\r\n              key: url\r\n        resources:\r\n          requests:\r\n            memory: "256Mi"\r\n            cpu: "250m"\r\n          limits:\r\n            memory: "512Mi"\r\n            cpu: "500m"\r\n        livenessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 3000\r\n          initialDelaySeconds: 30\r\n          periodSeconds: 10\r\n        readinessProbe:\r\n          httpGet:\r\n            path: /ready\r\n            port: 3000\r\n          initialDelaySeconds: 5\r\n          periodSeconds: 5\n'})}),"\n",(0,o.jsx)(n.h3,{id:"service",children:"Service"}),"\n",(0,o.jsx)(n.p,{children:"Exposes applications running in pods."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: myapp-service\r\nspec:\r\n  type: LoadBalancer\r\n  selector:\r\n    app: myapp\r\n  ports:\r\n    - protocol: TCP\r\n      port: 80\r\n      targetPort: 3000\n"})}),"\n",(0,o.jsx)(n.h3,{id:"configmap",children:"ConfigMap"}),"\n",(0,o.jsx)(n.p,{children:"Stores non-confidential configuration data."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: myapp-config\r\ndata:\r\n  api.url: "https://api.example.com"\r\n  log.level: "info"\r\n  feature.flag: "enabled"\n'})}),"\n",(0,o.jsx)(n.h3,{id:"secret",children:"Secret"}),"\n",(0,o.jsx)(n.p,{children:"Stores sensitive information like passwords and API keys."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: db-secret\r\ntype: Opaque\r\ndata:\r\n  username: YWRtaW4=        # base64 encoded 'admin'\r\n  password: cGFzc3dvcmQ=    # base64 encoded 'password'\r\n  url: cG9zdGdyZXNxbDovL... # base64 encoded connection string\n"})}),"\n",(0,o.jsx)(n.h3,{id:"ingress",children:"Ingress"}),"\n",(0,o.jsx)(n.p,{children:"Manages external access to services with routing rules."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"apiVersion: networking.k8s.io/v1\r\nkind: Ingress\r\nmetadata:\r\n  name: myapp-ingress\r\n  annotations:\r\n    kubernetes.io/ingress.class: nginx\r\n    cert-manager.io/cluster-issuer: letsencrypt-prod\r\nspec:\r\n  tls:\r\n  - hosts:\r\n    - myapp.example.com\r\n    secretName: myapp-tls\r\n  rules:\r\n  - host: myapp.example.com\r\n    http:\r\n      paths:\r\n      - path: /\r\n        pathType: Prefix\r\n        backend:\r\n          service:\r\n            name: myapp-service\r\n            port:\r\n              number: 80\n"})}),"\n",(0,o.jsx)(n.h2,{id:"common-kubernetes-commands",children:"Common Kubernetes Commands"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Get cluster info\r\nkubectl cluster-info\r\n\r\n# Get all resources\r\nkubectl get all\r\n\r\n# Get pods\r\nkubectl get pods\r\nkubectl get pods -o wide\r\n\r\n# Describe a resource\r\nkubectl describe pod myapp-pod\r\n\r\n# View logs\r\nkubectl logs myapp-pod\r\nkubectl logs -f myapp-pod  # Follow logs\r\n\r\n# Execute command in pod\r\nkubectl exec -it myapp-pod -- /bin/sh\r\n\r\n# Apply configuration\r\nkubectl apply -f deployment.yaml\r\n\r\n# Delete resources\r\nkubectl delete -f deployment.yaml\r\nkubectl delete pod myapp-pod\r\n\r\n# Scale deployment\r\nkubectl scale deployment myapp-deployment --replicas=5\r\n\r\n# Update image\r\nkubectl set image deployment/myapp-deployment myapp=myapp:2.0\r\n\r\n# View rollout status\r\nkubectl rollout status deployment/myapp-deployment\r\n\r\n# Rollback deployment\r\nkubectl rollout undo deployment/myapp-deployment\r\n\r\n# Port forwarding\r\nkubectl port-forward pod/myapp-pod 8080:3000\r\n\r\n# Get resource usage\r\nkubectl top nodes\r\nkubectl top pods\n"})}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"docker-best-practices",children:"Docker Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Use Official Base Images"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",children:"FROM node:18-alpine  # Use official, minimal images\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Minimize Layers"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",children:"# Combine RUN commands\r\nRUN apt-get update && apt-get install -y \\\r\n    package1 \\\r\n    package2 \\\r\n    && rm -rf /var/lib/apt/lists/*\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Use .dockerignore"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"node_modules\r\nnpm-debug.log\r\n.git\r\n.env\r\n*.md\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Multi-stage Builds"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dockerfile",children:'# Build stage\r\nFROM node:18 AS builder\r\nWORKDIR /app\r\nCOPY package*.json ./\r\nRUN npm ci\r\nCOPY . .\r\nRUN npm run build\r\n\r\n# Production stage\r\nFROM node:18-alpine\r\nWORKDIR /app\r\nCOPY --from=builder /app/dist ./dist\r\nCOPY --from=builder /app/package*.json ./\r\nRUN npm ci --only=production\r\nCMD ["node", "dist/index.js"]\n'})}),"\n",(0,o.jsx)(n.h3,{id:"kubernetes-best-practices",children:"Kubernetes Best Practices"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Use Namespaces"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace production\r\nkubectl apply -f deployment.yaml -n production\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Set Resource Limits"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'resources:\r\n  requests:\r\n    memory: "256Mi"\r\n    cpu: "250m"\r\n  limits:\r\n    memory: "512Mi"\r\n    cpu: "500m"\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Implement Health Checks"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"livenessProbe:\r\n  httpGet:\r\n    path: /health\r\n    port: 3000\r\nreadinessProbe:\r\n  httpGet:\r\n    path: /ready\r\n    port: 3000\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Use Labels and Selectors"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'metadata:\r\n  labels:\r\n    app: myapp\r\n    environment: production\r\n    version: "1.0"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"monitoring-and-logging",children:"Monitoring and Logging"}),"\n",(0,o.jsx)(n.h3,{id:"docker-logging",children:"Docker Logging"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# View logs\r\ndocker logs myapp-container\r\n\r\n# Follow logs\r\ndocker logs -f myapp-container\r\n\r\n# Tail last 100 lines\r\ndocker logs --tail 100 myapp-container\r\n\r\n# Show timestamps\r\ndocker logs -t myapp-container\n"})}),"\n",(0,o.jsx)(n.h3,{id:"kubernetes-monitoring-with-prometheus",children:"Kubernetes Monitoring with Prometheus"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\r\nkind: ServiceMonitor\r\nmetadata:\r\n  name: myapp-metrics\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: myapp\r\n  endpoints:\r\n  - port: metrics\r\n    interval: 30s\n"})}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.h3,{id:"docker-issues",children:"Docker Issues"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Problem:"})," Container exits immediately"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check logs\r\ndocker logs myapp-container\r\n\r\n# Run interactively\r\ndocker run -it myapp:1.0 sh\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Problem:"})," Port already in use"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Find process using port\r\nlsof -i :3000\r\n# Or use different port\r\ndocker run -p 3001:3000 myapp:1.0\n"})}),"\n",(0,o.jsx)(n.h3,{id:"kubernetes-issues",children:"Kubernetes Issues"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Problem:"})," Pod in CrashLoopBackOff"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check logs\r\nkubectl logs myapp-pod\r\n\r\n# Describe pod for events\r\nkubectl describe pod myapp-pod\r\n\r\n# Check previous logs\r\nkubectl logs myapp-pod --previous\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Problem:"})," Service not accessible"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check service\r\nkubectl get svc myapp-service\r\n\r\n# Check endpoints\r\nkubectl get endpoints myapp-service\r\n\r\n# Port forward to test\r\nkubectl port-forward svc/myapp-service 8080:80\n"})}),"\n",(0,o.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Docker Documentation:"})," ",(0,o.jsx)(n.a,{href:"https://docs.docker.com",children:"docker.com/docs"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Kubernetes Documentation:"})," ",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs",children:"kubernetes.io/docs"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Docker Hub:"})," ",(0,o.jsx)(n.a,{href:"https://hub.docker.com",children:"hub.docker.com"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Kubernetes Patterns:"})," ",(0,o.jsx)(n.a,{href:"https://k8spatterns.io",children:"k8spatterns.io"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Explore ",(0,o.jsx)(n.a,{href:"/docs/devops/cicd",children:"CI/CD Pipelines"})," for automated deployments"]}),"\n",(0,o.jsxs)(n.li,{children:["Learn ",(0,o.jsx)(n.a,{href:"/docs/devops/iac",children:"Infrastructure as Code"})," for automated provisioning"]}),"\n",(0,o.jsxs)(n.li,{children:["Review ",(0,o.jsx)(n.a,{href:"/docs/cloud-devops/aws",children:"Cloud Platforms"})," for managed Kubernetes services"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Need container orchestration help?"})," Contact our team at ",(0,o.jsx)(n.a,{href:"mailto:contact@techdocs.co.in",children:"contact@techdocs.co.in"})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var s=r(6540);const o={},i=s.createContext(o);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);